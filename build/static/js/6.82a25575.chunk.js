(this["webpackJsonpcoin-front"]=this["webpackJsonpcoin-front"]||[]).push([[6],{302:function(e,t,n){"use strict";var r=n(3),c=(n(0),n(324));n(303);t.a=function(){return Object(r.jsx)("div",{className:"loader-overlow",children:Object(r.jsx)(c.a,{animation:"border",role:"status",style:{position:"absolute",width:"100px",height:"100px",margin:"auto",display:"block"},children:Object(r.jsx)("span",{className:"sr-only",children:"Loading..."})})})}},303:function(e,t,n){},304:function(e,t,n){"use strict";var r=n(99),c=n(3),a=n(21),s=n(0),o=n(325),i=function(e){var t=e.variant,n=e.children,i=Object(s.useState)(!0),u=Object(a.a)(i,2),l=u[0],p=u[1];Object(s.useEffect)((function(){}));return Object(c.jsx)(o.a,Object(r.a)({show:l,variant:t,children:n,onClose:function(){p(!1)},dismissible:!0},"children",n))};i.defaultProps={variant:"info"},t.a=i},305:function(e,t,n){},306:function(e,t,n){"use strict";var r=n(3),c=(n(0),n(22)),a=n(295),s=n(298),o=n(31),i=n(302),u=n(304);n(307);t.a=function(e){var t=e.children,n=e.loading,l=e.title,p=e.setShowModal,d=e.activeBtn,j=e.filter,f=Object(c.c)((function(e){return e.successMsg})).message,m=Object(c.c)((function(e){return e.errorMsg})).error;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"panel-back",children:Object(r.jsxs)(a.a,{children:[!d&&Object(r.jsx)(o.Link,{to:"/",className:"btn btn-light my-3",children:"Go back"}),Object(r.jsx)("span",{children:l}),j&&Object(r.jsx)("i",{className:"fas fa-filter btn__filter",onClick:function(){return p(!0)}})]})}),n&&Object(r.jsx)(i.a,{}),m&&Object(r.jsx)(u.a,{variant:"danger",children:m}),f&&Object(r.jsx)(u.a,{variant:"success",children:f}),Object(r.jsx)(s.a,{children:t})]})}},307:function(e,t,n){},308:function(e,t,n){"use strict";n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return j})),n.d(t,"f",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return v})),n.d(t,"k",(function(){return x})),n.d(t,"g",(function(){return y})),n.d(t,"h",(function(){return k}));var r=n(13),c=n(11),a=n.n(c),s=n(28),o=n(20),i=n(24),u=n.n(i),l=function(e){var t=e().userLogin.userInfo;return p(t)},p=function(e){var t;return t=null!==e?e.token:e,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}},d=function(){return function(){var e=Object(s.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:o.v}),e.next=4,u.a.get("/api/post/");case 4:n=e.sent,r=n.data,t({type:o.w,payload:r.posts}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:o.u,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n,r){var c,s,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=l(r),t.prev=1,n({type:o.y}),t.next=5,u.a.get("/api/post/"+e,c);case 5:s=t.sent,i=s.data,n({type:o.A,payload:i.post}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),n({type:o.x});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}()},f=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(c,s){var i,p,d,j,f,m,b,h,O,v,x,y;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=l(s),p=s(),d=p.postOne.post,n.prev=2,c({type:o.q}),n.next=6,u.a.put("/api/post/edit-post/"+e,t,i);case 6:j=n.sent,f=j.data,c({type:o.r,payload:f.message}),d.title,d.certificate,d.description,d.bitkin,d.petrov,d.imperator,d.link_video,m=t.title,b=t.certificate,h=t.description,O=t.bitkin,v=t.petrov,x=t.imperator,y=t.link_video,c({type:o.A,payload:Object(r.a)(Object(r.a)({},d),{},{title:m,certificate:b,description:h,bitkin:O,petrov:v,imperator:x,link_video:y})}),n.next=23;break;case 20:n.prev=20,n.t0=n.catch(2),c({type:o.p});case 23:case"end":return n.stop()}}),n,null,[[2,20]])})));return function(e,t){return n.apply(this,arguments)}}()},m=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r,c){var s,i,p,d,j,f,m,b;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=l(c),i=c(),p=i.userLogin.userInfo,d=i.postList.posts,j=t._id,f=p.user.tokenUser.toString().split("").reverse().join(""),n.prev=4,r({type:o.e}),n.next=8,u.a.post("/api/post/like-post",e,s);case 8:m=n.sent,b=m.data,r({type:o.f,payload:b}),d.map((function(e){return e._id===j&&e.likes.unshift({userId:f,_id:1,name:p.user.name})})),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(4),r({type:o.d});case 17:case"end":return n.stop()}}),n,null,[[4,14]])})));return function(e,t){return n.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n,r){var c,s,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=l(r),t.prev=1,n({type:o.b}),t.next=5,u.a.post("/api/post/like-comment",e,c);case 5:s=t.sent,i=s.data,n({type:o.c,payload:i}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),n({type:o.a});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n,c){var s,i,p,d,j,f;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=l(c),i=c(),p=i.postOne.post,t.prev=2,t.next=5,u.a.post("/api/post/add-comment",e,s);case 5:d=t.sent,j=d.data,f=p.comments.unshift({comment:j.comment}),n({type:o.A,payload:Object(r.a)(Object(r.a)({},p),{},{newComment:f})}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),n({type:o.x});case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e,n){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n,c){var s,i,p,d,j,f;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=l(c),i=c(),p=i.postOne.post,t.prev=2,n({type:o.l}),t.next=6,u.a.delete("/api/post/comment/delete/"+e,s);case 6:d=t.sent,j=d.data,n({type:o.m,payload:j}),f=p.comments.filter((function(t){return t.comment._id!==e})),n({type:o.A,payload:Object(r.a)(Object(r.a)({},p),{},{comments:f})}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),n({type:o.k});case 16:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(e,n){return t.apply(this,arguments)}}()},v=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r,c){var s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=l(c),n.prev=1,r({type:o.o}),n.next=5,u.a.put("/api/post/edit-comment/"+e,t,s);case 5:r({type:o.A}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),r({type:o.n});case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e,t){return n.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n,r){var c,s,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=l(r),t.prev=1,n({type:o.C}),t.next=5,u.a.post("/api/post/report-comment",e,c);case 5:s=t.sent,i=s.data,n({type:o.D,payload:i}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),n({type:o.B});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}()},y=function(e){return function(t){t({type:o.s,payload:e})}},k=function(e){return function(t,n){var r=n().postList.posts.filter((function(t){return Object.keys(e).every((function(n){return e[n].some((function(e){return e===t[n]}))}))}));t({type:o.t,payload:r})}}},309:function(e,t,n){},311:function(e,t,n){"use strict";var r=n(3),c=n(21),a=n(11),s=n.n(a),o=n(28),i=n(0),u=n(324),l=n(310),p=n(296),d=function(e){var t=e.zoom,n=e.src,c=e.background,a=e.className,s=e.alt,o=Object(i.useRef)(t.clone({background:c}));return Object(r.jsx)(p.a,{src:n,className:a,ref:function(e){o.current.attach(e)},alt:s})};n(309),t.a=function(e){var t=e.photo,n=e.postTitle,a=(e.styleClass,t.route),p=t.user,j=t.name,f=t.link,m=Object(i.useState)(""),b=Object(c.a)(m,2),h=b[0],O=b[1],v=Object(i.useRef)(null),x=Object(i.useRef)(Object(l.a)());return Object(i.useEffect)((function(){null!==v.current&&function(e,t,n,r,c,a){new IntersectionObserver((function(e,t){e.forEach(function(){var e=Object(o.a)(s.a.mark((function e(n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.isIntersecting){e.next=2;break}return e.abrupt("return");case 2:a(c),t.disconnect();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).observe(e)}(v.current,0,0,0,f,O)}),[a,p,j,f]),h.length>0?Object(r.jsx)(d,{src:h,className:"image-style",zoom:x.current,background:"#000",alt:n}):Object(r.jsx)(u.a,{animation:"border",role:"status",ref:v,style:{width:"100px",height:"100px",margin:"auto",display:"block"},children:Object(r.jsx)("span",{className:"sr-only",children:"Loading..."})})}},316:function(e,t,n){"use strict";var r=n(3),c=n(21),a=n(0),s=n(342),o=n(299),i=n(146);n(305);t.a=function(e){var t=e.showModal,n=e.setShowModal,u=e.infoModal,l=e.executeInMenuItem,p=Object(a.useState)(""),d=Object(c.a)(p,2),j=d[0],f=d[1];Object(a.useEffect)((function(){f(u.body)}),[t,u.body]);var m=function(){n(!1)};return Object(r.jsxs)(s.a,{show:t,onHide:m,keyboard:!1,children:[Object(r.jsx)(s.a.Header,{closeButton:!0,children:Object(r.jsx)(s.a.Title,{children:u.header})}),Object(r.jsx)(s.a.Body,{children:2===u.position?u.body:Object(r.jsx)(o.a.Group,{controlId:"messageFooter",children:Object(r.jsx)(o.a.Control,{as:"textarea",rows:3,defaultValue:j,onChange:function(e){return f(e.target.value)}})})}),Object(r.jsxs)(s.a.Footer,{children:[Object(r.jsx)(i.a,{variant:"secondary",onClick:m,children:"Close"}),Object(r.jsx)(i.a,{variant:"primary",onClick:function(){return l(u.position,j)},children:u.footer})]})]})}},318:function(e,t,n){"use strict";var r=n(3),c=(n(0),n(22));n(319);t.a=function(e){var t,n=e.postOrComment,a=e.param,s=e.doLike,o=e.doFavorite,i=Object(c.c)((function(e){return e.userLogin})).userInfo,u=function(e){return void 0!==e&&(void 0!==i&&null!==i&&e.some((function(e){return e.name===i.user.name})))},l="fa-heart fa-2x ".concat(u(n.likes)?" fas liked":"far notLiked"),p="fa-comments fa-2x ".concat(u(n.comments)?"fas liked":"far notLiked"),d=" fa-star fa-2x ".concat(void 0!==(t=n.favorites)&&void 0!==i&&null!==i&&t.some((function(e){return e.user===i.user.tokenUser.split("").reverse().join("")}))?"fas favored":"far notFavored");return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"coin_post__footer_like",children:[Object(r.jsx)("i",{className:l,onClick:function(){return s(n)}}),Object(r.jsx)("span",{children:n.totalLikes})]}),"post"===a&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"coin_post__footer_comment",children:[Object(r.jsx)("i",{className:p}),Object(r.jsx)("span",{children:n.comments.length})]}),Object(r.jsx)("i",{className:d,onClick:function(){return o(n)}})]})]})}},319:function(e,t,n){},331:function(e,t,n){},332:function(e,t,n){},333:function(e,t,n){},346:function(e,t,n){"use strict";n.r(t);var r=n(3),c=n(21),a=n(0),s=n(344),o=n(299),i=n(146),u=n(22),l=n(308),p=n(311),d=n(296),j=n(318),f=n(316),m=(n(331),function(e){var t=e.body,n=e.isYourComment,s=e.doReport,o=e.doEdit,i=e.doRemove,u=Object(a.useState)(!1),l=Object(c.a)(u,2),p=l[0],d=l[1],j=Object(a.useState)(!1),m=Object(c.a)(j,2),b=m[0],h=m[1],O=Object(a.useState)({header:"",body:"",footer:""}),v=Object(c.a)(O,2),x=v[0],y=v[1],k=Object(a.useCallback)((function(e){"menu-item"!==e.target.className&&d(!1)}),[]);Object(a.useEffect)((function(){return window.addEventListener("mousedown",k),function(){window.removeEventListener("mousedown",k)}}),[k,n]);var g="menu ".concat(p?"openMenu":"closeMenu"),w=function(e,n){switch(e.preventDefault(),h(!0),n){case 0:y({position:0,header:"Warning Report",body:"Do you want report this comment?",footer:"Report"});break;case 1:y({position:1,header:"Warning Edit",body:t.comment,footer:"Edit"});break;case 2:y({position:2,header:"Warning Delete",body:"Do you want delete this comment?",footer:"Delete"})}};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("span",{className:"menu-zone",onClick:function(){return d(!p)},children:[Object(r.jsx)("i",{className:"fas fa-ellipsis-h"}),Object(r.jsxs)("ul",{className:g,children:[!n&&Object(r.jsx)("li",{className:"menu-item",onClick:function(e){return w(e,0)},children:"Report"},0),n&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("li",{className:"menu-item",onClick:function(e){return w(e,1)},children:"Edit"},1),Object(r.jsx)("li",{className:"menu-item",onClick:function(e){return w(e,2)},children:"Delete"},2)]})]})]}),Object(r.jsx)(f.a,{showModal:b,setShowModal:h,infoModal:x,executeInMenuItem:function(e,n){switch(e){case 0:s(t._id,t.user);break;case 1:o(t._id,n),x.body=n;break;case 2:i(t._id)}h(!b)}})]})}),b=(n(332),function(e){var t=e.comment,n=Object(a.useState)(!1),s=Object(c.a)(n,2),o=s[0],i=s[1],p=Object(u.b)(),f=Object(u.c)((function(e){return e.userLogin})).userInfo.user;Object(a.useEffect)((function(){i(t.user===h(f.tokenUser))}),[t.user,f,o]);var b,h=function(e){return e.split("").reverse().join("")};return Object(r.jsxs)("div",{className:"comment",children:[Object(r.jsxs)("div",{className:"comment_avatar",children:[Object(r.jsx)(d.a,{src:t.userAvatar,roundedCircle:!0,className:"img_comment"}),t.name.length>8?Object(r.jsxs)("h6",{children:[t.name.substr(0,6),"..."]}):Object(r.jsx)("h6",{children:t.name})]}),Object(r.jsxs)("div",{className:"comment_body",children:[Object(r.jsxs)("div",{className:"comment_body_publicate",children:[(b=t.name,b[0].toUpperCase()+b.substr(1))," posted a comment at:"," ",t.createdAt.substr(0,10),Object(r.jsx)(m,{body:t,isYourComment:o,doReport:function(e,t){p(Object(l.k)({commentId:e,_id:t}))},doEdit:function(e,t){p(Object(l.e)(e,{comment:t}))},doRemove:function(e){p(Object(l.d)(e))}})]}),Object(r.jsx)("div",{className:"comment_body_comment",children:t.comment}),Object(r.jsx)("div",{className:"comment_body_footer",children:Object(r.jsx)(j.a,{postOrComment:t,param:"comment",doLike:function(e){p(Object(l.b)({_id:e._id}))}})})]})]})}),h=n(20),O=n(306);n(333),t.default=function(e){var t=e.match,n=Object(a.useState)({photos:[],comments:[]}),d=Object(c.a)(n,2),j=d[0],f=d[1],m=Object(a.useState)(""),v=Object(c.a)(m,2),x=v[0],y=v[1],k=Object(a.useState)(!1),g=Object(c.a)(k,2),w=g[0],_=g[1],N=Object(u.b)(),C=Object(u.c)((function(e){return e.postOne})),S=C.loading,L=C.post,I=[{postTitle:"Title",postValue:j.title},{postTitle:"Bitkin",postValue:j.bitkin},{postTitle:"Petrov",postValue:j.petrov},{postTitle:"Grading",postValue:j.certificate},{postTitle:"Description",postValue:j.description}];Object(a.useEffect)((function(){return L&&0!==Object.keys(L).length?f(L):N(Object(l.j)(t.params.id)),function(){L&&N({type:h.z})}}),[N,L,t]);return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(O.a,{loading:S,title:"Post's detail",children:Object(r.jsxs)("div",{className:"post__detals",children:[Object(r.jsxs)("div",{className:"post__detals_header",children:[Object(r.jsx)("div",{className:"post__detals_header_media",children:j.photos.length>0?Object(r.jsx)(s.a,{children:j.photos.map((function(e,t){return Object(r.jsx)(s.a.Item,{children:Object(r.jsx)(p.a,{photo:e.photo})},t)}))}):Object(r.jsx)("i",{className:"fas fa-image no-image"})}),Object(r.jsx)("div",{className:"post__detals_header_description",children:Object(r.jsxs)("ul",{children:[I.map((function(e,t){return Object(r.jsxs)("li",{children:[Object(r.jsxs)("h6",{children:[e.postTitle,": "]}),Object(r.jsx)("span",{className:"text-span",children:e.postValue})]},t)})),Object(r.jsxs)("li",{children:[Object(r.jsx)("h6",{className:"show-video",onClick:function(){return _(!w)},children:"Show video"}),w&&Object(r.jsx)("span",{className:"text-span video-frame",children:Object(r.jsx)("iframe",{title:j.title,width:"500",height:"282",src:"https://www.youtube.com/embed/"+j.link_video+"?modestbranding=1&rel=0",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]})]})})]}),Object(r.jsxs)("div",{className:"post__detals_footer",children:[Object(r.jsxs)(o.a,{onSubmit:function(e){e.preventDefault(),N(Object(l.a)({post:t.params.id,comment:x})),y("")},children:[Object(r.jsx)(o.a.Group,{controlId:"comment",children:Object(r.jsx)(o.a.Control,{type:"text",placeholder:"Put your comment...",value:x,onChange:function(e){return y(e.target.value)}})}),Object(r.jsx)(o.a.Group,{children:Object(r.jsx)(i.a,{type:"submit",variant:"primary",className:"add_comment",children:"Comment"})})]}),j.comments.map((function(e,t){return Object(r.jsx)(b,{comment:e.comment},t)}))]})]})})})}}}]);
//# sourceMappingURL=6.82a25575.chunk.js.map
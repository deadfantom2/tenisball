(this["webpackJsonpcoin-front"]=this["webpackJsonpcoin-front"]||[]).push([[0],{144:function(e,t,n){},165:function(e,t,n){},166:function(e,t,n){},186:function(e,t,n){},286:function(e,t,n){},289:function(e,t,n){},290:function(e,t,n){},291:function(e,t,n){},292:function(e,t,n){},293:function(e,t,n){},294:function(e,t,n){},295:function(e,t,n){},296:function(e,t,n){},297:function(e,t,n){},299:function(e,t,n){},300:function(e,t,n){},301:function(e,t,n){},302:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),c=n(33),s=n.n(c),o=n(9),i=n(60),l=n(147),u=n(148),d="USER_LOGIN_REQUEST",j="USER_LOGIN_SUCCESS",p="USER_LOGIN_FAIL",b="USER_LOGOUT",m="USER_REGISTER_REQUEST",h="USER_REGISTER_SUCCESS",O="USER_REGISTER_FAIL",f="GETPROFILE_INFO_REQUEST",x="GETPROFILE_INFO_SUCCESS",v="GETPROFILE_INFO_FAIL",g="GETPROFILE_INFO_RESET",y="PROFILE_PASSWORD_FAIL",E="CONTACT_SEND_REQUEST",S="CONTACT_SEND_SUCCESS",C="CONTACT_SEND_FAIL",_="ERROR_MESSAGE",k="ERROR_MESSAGE_RESET",w="SUCCESS_MESSAGE",I="SUCCESS_MESSAGE_RESET",N="POST_LIST_REQUEST",T="POST_LIST_SUCCESS",L="POST_LIST_FAIL",P="POST_ONE_REQUEST",R="POST_ONE_SUCCESS",F="POST_ONE_FAIL",A="POST_ONE_RESET",D="CREATE_POST_REQUEST",M="CREATE_POST_SUCCESS",G="CREATE_POST_FAIL",U="CREATE_POST_RESET",B="EDIT_POST_REQUEST",q="EDIT_POST_SUCCESS",V="EDIT_POST_FAIL",z="EDIT_POST_RESET",Q=Object(i.combineReducers)({userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return{loading:!0};case h:return{loading:!1,userInfo:t.payload};case O:return{loading:!1};default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return{loading:!0};case j:return{loading:!1,userInfo:t.payload};case p:return{loading:!1};case b:return localStorage.removeItem("token"),localStorage.removeItem("userInfo"),localStorage.removeItem("expires"),{userInfo:null};default:return e}},profileInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return{loading:!0};case x:return{loading:!1,user:t.payload};case v:case g:return{loading:!1};default:return e}},postList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{posts:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return{loading:!0,posts:[]};case T:return{loading:!1,posts:t.payload};case L:return{loading:!1,posts:[]};default:return e}},postOne:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return{loading:!0};case R:return{loading:!1,post:t.payload};case F:case A:return{loading:!1};default:return e}},addPost:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{newpost:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return{loading:!0,newpost:{}};case M:return{loading:!1,newpost:t.payload};case G:case U:return{loading:!1,newpost:{}};default:return e}},editPost:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return{loading:!0};case q:return{loading:!1,message:t.payload};case V:case z:return{loading:!1};default:return e}},successMsg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return{message:t.payload};case I:return{};default:return e}},errorMsg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return{error:t.payload};case k:return{};default:return e}}}),Y=localStorage.getItem("token"),W=JSON.parse(localStorage.getItem("userInfo")),K=localStorage.getItem("expires"),H={userLogin:{userInfo:Y&&W&&K?{token:Y,user:W,expiresIn:K}:null}},J=[l.a],Z=Object(u.composeWithDevTools)({trace:!0,traceLimit:25}),$=Object(i.createStore)(Q,H,Z(i.applyMiddleware.apply(void 0,J))),X=(n(165),n(166),n(16)),ee=n(20),te=n(150),ne=n(8),ae=n(10),re=n.n(ae),ce=n(14),se=n(309),oe=n(13),ie=n.n(oe),le=n(149),ue=n(308),de=function(e){var t=e.zoom,n=e.src,c=e.background,s=e.className,o=e.alt,i=Object(r.useRef)(t.clone({background:c}));return Object(a.jsx)(ue.a,{src:n,className:s,ref:function(e){i.current.attach(e)},alt:o})},je=function(){var e=Object(ce.a)(re.a.mark((function e(t,n,a){var r,c;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie.a.get("/api/images/".concat(t,"/").concat(n,"/").concat(a));case 2:return r=e.sent,c=r.config.url,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),pe=function(e){var t=e.photo,n=e.postTitle,c=(e.styleClass,t.route),s=t.user,o=t.name,i=Object(r.useState)(""),l=Object(ne.a)(i,2),u=l[0],d=l[1],j=Object(r.useRef)(null),p=Object(r.useRef)(Object(le.a)());return Object(r.useEffect)((function(){null!==j.current&&function(e,t,n,a,r){new IntersectionObserver((function(e,c){e.forEach(function(){var e=Object(ce.a)(re.a.mark((function e(s){var o;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.isIntersecting){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,je(t,n,a);case 4:o=e.sent,r(o),c.disconnect();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).observe(e)}(j.current,c,s,o,d)}),[c,s,o]),u.length>0?Object(a.jsx)(de,{src:u,className:"image-style",zoom:p.current,background:"#000",alt:n}):Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(se.a,{animation:"border",role:"status",ref:j,style:{width:"100px",height:"100px",margin:"auto",display:"block"},children:Object(a.jsx)("span",{className:"sr-only",children:"Loading..."})})})},be=n(18),me=n(100);n(303),n(184);me.a.initializeApp({apiKey:"AIzaSyCz3V3kRYGSmvK0Y75SlvIOk5SHlvGPaEI",authDomain:"coins-cdc5e.firebaseapp.com",projectId:"coins-cdc5e",storageBucket:"coins-cdc5e.appspot.com",messagingSenderId:"723917946127",appId:"1:723917946127:web:c55e65bad812bc6fe7927a"});var he=me.a.auth(),Oe=(new me.a.auth.GoogleAuthProvider,function(e){var t=e().userLogin.userInfo;return fe(t)}),fe=function(e){var t;return t=null!==e?e.token:e,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}},xe=function(){return function(e){localStorage.removeItem("token"),localStorage.removeItem("userInfo"),localStorage.removeItem("expires"),e({type:b})}},ve=function(){return function(){var e=Object(ce.a)(re.a.mark((function e(t,n){var a,r,c;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Oe(n),e.prev=1,t({type:f}),e.next=5,ie.a.get("/api/user/profile-info",a);case 5:r=e.sent,c=r.data,t({type:x,payload:c.user}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t({type:v});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}()},ge=function(e){return function(){var t=Object(ce.a)(re.a.mark((function t(n){var a,r;return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:E}),t.next=4,ie.a.post("/send-about-coin",e);case 4:a=t.sent,r=a.data,n({type:S,payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:C});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},ye=function(e){var t=e().userLogin.userInfo;return Ee(t)},Ee=function(e){var t;return t=null!==e?e.token:e,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}},Se=function(e){return function(){var t=Object(ce.a)(re.a.mark((function t(n,a){var r,c,s;return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=ye(a),t.prev=1,n({type:P}),t.next=5,ie.a.get("/api/post/"+e,r);case 5:c=t.sent,s=c.data,n({type:R,payload:s.post}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),n({type:F});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}()},Ce=(n(186),function(e){var t,n=e.postOrComment,r=e.param,c=e.doLike,s=e.doFavorite,i=Object(o.c)((function(e){return e.userLogin})).userInfo,l=function(e){return void 0!==e&&(void 0!==i&&null!==i&&e.some((function(e){return e.name===i.user.name})))},u="fa-heart fa-2x ".concat(l(n.likes)?" fas liked":"far notLiked"),d="fa-comments fa-2x ".concat(l(n.comments)?"fas liked":"far notLiked"),j=" fa-star fa-2x ".concat(void 0!==(t=n.favorites)&&void 0!==i&&null!==i&&t.some((function(e){return e.user===i.user.tokenUser.split("").reverse().join("")}))?"fas favored":"far notFavored");return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"coin_post__footer_like",children:[Object(a.jsx)("i",{className:u,onClick:function(){return c(n)}}),Object(a.jsx)("span",{children:n.totalLikes})]}),"post"===r&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"coin_post__footer_comment",children:[Object(a.jsx)("i",{className:d}),Object(a.jsx)("span",{children:n.comments.length})]}),Object(a.jsx)("i",{className:j,onClick:function(){return s(n)}})]})]})}),_e=function(e){var t,n=e.post,r=Object(o.b)();return Object(a.jsxs)("div",{className:"coin_post",children:[Object(a.jsx)("div",{className:"coin_post__header",children:n.photos.length>0&&Object(a.jsx)(pe,{photo:n.photos[0].photo,postTitle:n.title,styleClass:"image"})}),Object(a.jsxs)("div",{className:"coin_post__body",children:[Object(a.jsx)("div",{className:"coin_post__body_title",children:Object(a.jsx)(X.Link,{to:"/post/edit/".concat(n._id),children:Object(a.jsx)("h6",{children:n.title})})}),Object(a.jsx)("div",{className:"coin_post__body_certif",children:(t=n.certificate,"NGC"===t?Object(a.jsx)("img",{src:"ngc.svg",width:"100px",height:"36px",alt:"NGC"}):Object(a.jsx)("img",{src:"pcgs.svg",width:"100px",height:"28px",alt:"PCGS"}))}),Object(a.jsxs)("div",{className:"coin_post__body_text",children:[Object(a.jsx)(X.Link,{to:"/post/".concat(n._id),children:Object(a.jsx)("h6",{children:"More details..."})}),Object(a.jsx)("p",{children:"Send message to ask about coin"})]})]}),Object(a.jsx)("div",{className:"coin_post__footer",children:Object(a.jsx)(Ce,{postOrComment:n,param:"post",doLike:function(e){var t;r((t={_id:e._id},function(){var e=Object(ce.a)(re.a.mark((function e(n,a){var r,c,s;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ye(a),e.prev=1,n({type:"ADD_LIKE_REQUEST"}),e.next=5,ie.a.post("/api/post/like-post",t,r);case 5:c=e.sent,s=c.data,n({type:"ADD_LIKE_SUCCESS",payload:s}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n({type:"ADD_LIKE_FAIL"});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}()))},doFavorite:function(e){var t,n=e._id,a=e.title,c=e.photos;e.photos.length>0&&r((t={title:a,folderPhoto:c[0].photo.user,photo:c[0].photo.name,postId:n},function(){var e=Object(ce.a)(re.a.mark((function e(n,a){var r,c,s;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Oe(a),e.prev=1,n({type:"ADD_FAVORITE_REQUEST"}),e.next=5,ie.a.post("/api/user/add-favorite",t,r);case 5:c=e.sent,s=c.data,n({type:"ADD_FAVORITE_SUCCESS",payload:s}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n({type:"ADD_FAVORITE_FAIL"});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}()))}})})]})},ke=n(311),we=function(){return Object(a.jsx)("div",{className:"loader-overlow",children:Object(a.jsx)(se.a,{animation:"border",role:"status",style:{position:"absolute",width:"100px",height:"100px",margin:"auto",display:"block"},children:Object(a.jsx)("span",{className:"sr-only",children:"Loading..."})})})},Ie=n(88),Ne=n(310),Te=function(e){var t=e.variant,n=e.children,c=Object(r.useState)(!0),s=Object(ne.a)(c,2),o=s[0],i=s[1];Object(r.useEffect)((function(){}));return Object(a.jsx)(Ne.a,Object(Ie.a)({show:o,variant:t,children:n,onClose:function(){i(!1)},dismissible:!0},"children",n))};Te.defaultProps={variant:"info"};var Le=Te,Pe=function(e){var t=e.children,n=e.loading,r=e.title,c=Object(o.c)((function(e){return e.successMsg})).message,s=Object(o.c)((function(e){return e.errorMsg})).error;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{className:"title",children:r}),n&&Object(a.jsx)(we,{}),s&&Object(a.jsx)(Le,{variant:"danger",children:s}),c&&Object(a.jsx)(Le,{variant:"success",children:c}),Object(a.jsx)(ke.a,{children:t})]})},Re=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.postList})),n=t.loading,c=t.posts;return Object(r.useEffect)((function(){e(function(){var e=Object(ce.a)(re.a.mark((function e(t){var n,a;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:N}),e.next=4,ie.a.get("/api/post/");case 4:n=e.sent,a=n.data,t({type:T,payload:a.posts}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:L,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(a.jsx)(Pe,{loading:n,title:"All posts",children:c.length>0&&c.map((function(e){return Object(a.jsx)(te.a,{sm:12,md:6,lg:4,xl:3,className:"col item",children:Object(a.jsx)(_e,{post:e})},e._id)}))})},Fe=n(45),Ae=n(15),De=n(316),Me=n(156),Ge=(n(286),function(e){var t=e.children,n=e.loading,r=Object(o.c)((function(e){return e.successMsg})).message,c=Object(o.c)((function(e){return e.errorMsg})).error;return Object(a.jsx)(ke.a,{className:"justify-content-md-center auth",children:Object(a.jsxs)(te.a,{xs:12,md:6,children:[n&&Object(a.jsx)(we,{}),c&&Object(a.jsx)(Le,{variant:"danger",children:c}),r&&Object(a.jsx)(Le,{variant:"success",children:r}),t]})})}),Ue=n(56),Be=function(e){var t=e.setAvatar;return Object(a.jsxs)(De.a.Group,{controlId:"avatar",children:[Object(a.jsxs)(Ue.a,{children:[Object(a.jsx)(Ue.a.Toggle,{variant:"Secondary",id:"dropdown-basic",children:"Choose your avatar"}),Object(a.jsx)(Ue.a.Menu,{children:[{name:"Petr 1",photoPath:"/images/petr1.jpg"},{name:"Ekaterina 1",photoPath:"/images/ekaterina1.jpg"},{name:"Petr 2",photoPath:"/images/petr2.jpg"},{name:"Anna Ioannovna",photoPath:"/images/anna.jpg"},{name:"Ioann Antonovich",photoPath:"/images/anton.jpg"},{name:"Elizaveta",photoPath:"/images/elizaveta.jpg"},{name:"Petr 3",photoPath:"/images/petr3.jpg"},{name:"Ekaterina 2",photoPath:"/images/ekaterina2.jpg"},{name:"Pavel 1",photoPath:"/images/pavel1.jpg"},{name:"Aleksandr 1",photoPath:"/images/aleksandr1.jpg"},{name:"Nicolai 1",photoPath:"/images/nicolas1.jpg"},{name:"Aleksandr 2",photoPath:"/images/aleksandr2.jpg"},{name:"Aleksandr 3",photoPath:"/images/aleksandr3.jpg"},{name:"Nicolai 2",photoPath:"/images/nicolas2.jpg"}].map((function(e){return Object(a.jsxs)(Ue.a.Item,{value:e.photoPath,onClick:function(){return t(e.photoPath)},children:[Object(a.jsx)(ue.a,{src:e.photoPath,roundedCircle:!0,className:"img_tsar"}),"    ",e.name]},e.name)}))})]})," "]})},qe=(n(289),function(e){var t=e.history,n=e.location,c=Object(r.useState)("/images/petr1.jpg"),s=Object(ne.a)(c,2),i=s[0],l=s[1],u=Object(r.useRef)(null),d=n.search?n.search.split("=")[1]:"/",j=Object(o.b)(),p=Object(o.c)((function(e){return e.userRegister})),b=p.loading,f=p.userInfo,x=Object(Fe.b)({initialValues:{name:"",surname:"",age:"",email:"",password:"",confirmPassword:""},validationSchema:Ae.b({name:Ae.c().min(3,"* Name must be least than 3 characters").max(30,"* Name must be shorter than 30 characters").required("* Name must be required").matches(/^([a-zA-Z]{3,30})+$/,"* This field cannot contain blankspaces or specific characters"),surname:Ae.c().required("Surname must be required"),age:Ae.a("* Only number").min(18,"* Age must be minimum 18").max(125,"* Age must be maximum 125").required("* Age must be required"),email:Ae.c().email("* Email is invalid").min(11,"* Email must be least than 11 characters").max(50,"* Email must be shorter than 50 characters").required("* Email is required"),password:Ae.c().min(4,"* Password must be least than 3 characters").max(100,"* Password must be shorter than 100 characters").required("* Password must be required"),confirmPassword:Ae.c().test("passwords-match","Passwords must match",(function(e){return this.parent.password===e}))}),onSubmit:function(e,t){var n,a=t.resetForm,r=e.name,c=e.surname,s=e.age,o=e.email,l=e.password;j((n={name:r,surname:c,age:s,email:o,password:l,avatar:i},function(){var e=Object(ce.a)(re.a.mark((function e(t){var a,r,c,s;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},r={url:"http://localhost:3000/register/complete",handleCodeInApp:!0},e.prev=2,t({type:m}),e.next=6,ie.a.post("/api/auth/register",n,a);case 6:if(c=e.sent,s=c.data,201!==c.status){e.next=12;break}return e.next=12,he.sendSignInLinkToEmail(n.email,r);case 12:t({type:h,payload:s}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),t({type:O});case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}())),a({body:""})}}),v=x.handleSubmit,g=x.handleChange,y=x.handleBlur,E=x.values,S=x.touched,C=x.isValid,_=x.errors;return Object(r.useEffect)((function(){u.current.focus()}),[t,f,d]),Object(a.jsxs)(Ge,{loading:b,children:[Object(a.jsx)("h1",{className:"title",ref:u,children:"Sign Up"}),Object(a.jsxs)(De.a,{onSubmit:v,children:[Object(a.jsxs)(De.a.Group,{controlId:"name",children:[Object(a.jsx)(De.a.Label,{children:"Name *"}),Object(a.jsx)(De.a.Control,{type:"text",placeholder:"Enter your name",value:E.name,onChange:g,onBlur:y}),S.name&&_.name?Object(a.jsx)("p",{children:_.name}):null]}),Object(a.jsxs)(De.a.Group,{controlId:"surname",children:[Object(a.jsx)(De.a.Label,{children:"Surname *"}),Object(a.jsx)(De.a.Control,{type:"text",placeholder:"Enter your surname",value:E.surname,onChange:g,onBlur:y}),S.surname&&_.surname?Object(a.jsx)("p",{children:_.surname}):null]}),Object(a.jsxs)(De.a.Group,{controlId:"age",children:[Object(a.jsx)(De.a.Label,{children:"Age *"}),Object(a.jsx)(De.a.Control,{type:"number",placeholder:"Enter your age",value:E.age,onChange:g,onBlur:y}),S.age&&_.age?Object(a.jsx)("p",{children:_.age}):null]}),Object(a.jsxs)(De.a.Group,{controlId:"email",children:[Object(a.jsx)(De.a.Label,{children:"Email *"}),Object(a.jsx)(De.a.Control,{type:"email",placeholder:"Enter your email",value:E.email,onChange:g,onBlur:y})," ",S.email&&_.email?Object(a.jsx)("p",{children:_.email}):null]}),Object(a.jsxs)(De.a.Group,{controlId:"password",children:[Object(a.jsx)(De.a.Label,{children:"Password *"}),Object(a.jsx)(De.a.Control,{type:"password",placeholder:"Enter password",value:E.password,onChange:g,onBlur:y}),S.password&&_.password?Object(a.jsx)("p",{children:_.password}):null]}),Object(a.jsxs)(De.a.Group,{controlId:"confirmPassword",children:[Object(a.jsx)(De.a.Label,{children:"Confirm Password *"}),Object(a.jsx)(De.a.Control,{type:"password",placeholder:"Confirm password",value:E.confirmPassword,onChange:g,onBlur:y}),S.confirmPassword&&_.confirmPassword?Object(a.jsx)("p",{children:_.confirmPassword}):null]})," ",Object(a.jsx)(Be,{setAvatar:l}),Object(a.jsx)(Me.a,{type:"submit",variant:"primary",disabled:!C,children:"Register"})]}),Object(a.jsx)(ke.a,{className:"py-3",children:Object(a.jsxs)(te.a,{children:["Have an account?",Object(a.jsxs)(X.Link,{to:d?"/login?redirect=".concat(d):"/login",children:[" ","Login"]})]})})]})}),Ve=function(e){e.history,e.location;return Object(a.jsx)(a.Fragment,{children:"Register complete"})},ze=function(e){var t=e.history,n=e.location,c=Object(r.useState)("cameratest811@gmail.com"),s=Object(ne.a)(c,2),i=s[0],l=s[1],u=Object(r.useState)("frfr"),b=Object(ne.a)(u,2),m=b[0],h=b[1],O=Object(r.useRef)(null),f=n.search?n.search.split("=")[1]:"/",x=Object(o.b)(),v=Object(o.c)((function(e){return e.userLogin})),g=v.loading,y=v.userInfo;Object(r.useEffect)((function(){O.current.focus(),y&&t.push(f)}),[t,y,f,O]);return Object(a.jsxs)(Ge,{loading:g,children:[Object(a.jsx)("h1",{className:"title",ref:O,children:"Sign In"}),Object(a.jsxs)(De.a,{onSubmit:function(e){var t;e.preventDefault(),x((t={email:i,password:m},function(){var e=Object(ce.a)(re.a.mark((function e(n){var a,r,c,s,o,i;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:d}),a={headers:{"Content-Type":"application/json"}},e.next=5,ie.a.post("/api/auth/login",t,a);case 5:r=e.sent,c=r.data,n({type:j,payload:c}),s=c.token,o=c.user,i=c.expiresIn,localStorage.setItem("token",s),localStorage.setItem("userInfo",JSON.stringify(o)),localStorage.setItem("expires",i),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),n({type:p});case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(a.jsxs)(De.a.Group,{children:[Object(a.jsx)(De.a.Label,{children:"Email"}),Object(a.jsx)(De.a.Control,{type:"email",placeholder:"Enter your email",value:i,onChange:function(e){return l(e.target.value)}})]}),Object(a.jsxs)(De.a.Group,{children:[Object(a.jsx)(De.a.Label,{children:"Password"}),Object(a.jsx)(De.a.Control,{type:"password",placeholder:"Enter password",value:m,onChange:function(e){return h(e.target.value)}})]}),Object(a.jsx)(Me.a,{type:"submit",variant:"primary",children:"Login"})]}),Object(a.jsx)(ke.a,{className:"py-3",children:Object(a.jsxs)(te.a,{children:["New customer?",Object(a.jsxs)(X.Link,{to:f?"/register?redirect=".concat(f):"/register",children:[" ","Register"]})]})})]})},Qe=n(315),Ye=(n(144),function(e){var t=e.showModal,n=e.setShowModal,c=e.infoModal,s=e.executeInMenuItem,o=Object(r.useState)(""),i=Object(ne.a)(o,2),l=i[0],u=i[1];Object(r.useEffect)((function(){u(c.body)}),[t,c.body]);var d=function(){n(!1)};return Object(a.jsxs)(Qe.a,{show:t,onHide:d,keyboard:!1,children:[Object(a.jsx)(Qe.a.Header,{closeButton:!0,children:Object(a.jsx)(Qe.a.Title,{children:c.header})}),Object(a.jsx)(Qe.a.Body,{children:2===c.position?c.body:Object(a.jsx)(De.a.Group,{controlId:"messageFooter",children:Object(a.jsx)(De.a.Control,{as:"textarea",rows:3,defaultValue:l,onChange:function(e){return u(e.target.value)}})})}),Object(a.jsxs)(Qe.a.Footer,{children:[Object(a.jsx)(Me.a,{variant:"secondary",onClick:d,children:"Close"}),Object(a.jsx)(Me.a,{variant:"primary",onClick:function(){return s(c.position,l)},children:c.footer})]})]})}),We=(n(290),function(e){var t=e.history,n=e.location,c=Object(r.useState)(""),s=Object(ne.a)(c,2),i=s[0],l=s[1],u=Object(r.useState)(""),d=Object(ne.a)(u,2),j=d[0],p=d[1],b=Object(r.useState)(18),m=Object(ne.a)(b,2),h=m[0],O=m[1],f=Object(r.useState)(!0),x=Object(ne.a)(f,2),v=x[0],E=x[1],S=Object(r.useState)(!0),C=Object(ne.a)(S,2),_=C[0],k=C[1],w=Object(r.useState)(!1),I=Object(ne.a)(w,2),N=I[0],T=I[1],L=Object(r.useState)(!1),P=Object(ne.a)(L,2),R=P[0],F=P[1],A=Object(r.useState)({header:"",body:"",footer:""}),D=Object(ne.a)(A,2),M=D[0],G=D[1],U=n.search?n.search.split("=")[1]:"/",B=Object(o.b)(),q=Object(o.c)((function(e){return e.profileInfo})),V=q.loading,z=q.user;Object(r.useEffect)((function(){return z&&0!==Object.keys(z).length?(l(z.name),p(z.surname),O(z.age),E(z.isCanPost),k(z.isCanWrite),T(z.isReported)):B(ve()),function(){z&&B({type:g})}}),[B,z]);var Q,Y,W=Object(Fe.b)({initialValues:{name:i,surname:j,age:h},enableReinitialize:!0,validationSchema:Ae.b({name:Ae.c().min(3,"* Name must be least than 3 characters").max(30,"* Name must be shorter than 30 characters").required("* Name must be required").matches(/^([a-zA-Z]{3,30})+$/,"* This field cannot contain blankspaces or specific characters"),surname:Ae.c().required("Surname must be required"),age:Ae.a("* Only number").min(18,"* Age must be minimum 18").max(125,"* Age must be maximum 125").required("* Age must be required")}),onSubmit:function(e){var t,n=e.name,a=e.surname,r=e.age;B((t={name:n,surname:a,age:r},function(){var e=Object(ce.a)(re.a.mark((function e(n,a){var r,c,s,o,i,l;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Oe(a),c=a(),s=c.profileInfo.user,e.prev=2,n({type:"PROFILE_INFO_REQUEST"}),e.next=6,ie.a.put("/api/user/edit-profile",t,r);case 6:s.name,s.surname,s.age,o=t.name,i=t.surname,l=t.age,n({type:"PROFILE_INFO_SUCCESS",payload:Object(be.a)(Object(be.a)({},s),{},{name:o,surname:i,age:l})}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),n({type:y});case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,n){return e.apply(this,arguments)}}())),Z(!0)}}),K=W.handleSubmit,H=W.handleChange,J=W.handleBlur,Z=W.setSubmitting,$=W.values,ee=W.touched,te=W.isValid,ae=W.errors;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(X.Link,{to:"/",className:"btn btn-light my-3",children:"Go back"}),Object(a.jsx)(Pe,{loading:V,children:Object(a.jsxs)("div",{className:"profile",children:[Object(a.jsxs)("div",{className:"profile-info",children:[Object(a.jsx)("h5",{className:"h5-profile",children:"Profile"}),Object(a.jsxs)(De.a,{className:"form",onSubmit:K,children:[Object(a.jsxs)(De.a.Group,{controlId:"name",children:[Object(a.jsx)(De.a.Label,{children:"Name *"}),Object(a.jsx)(De.a.Control,{type:"text",placeholder:"Enter name",value:$.name,onChange:H,onBlur:J}),ee.name&&ae.name?Object(a.jsx)("p",{children:ae.name}):null]}),Object(a.jsxs)(De.a.Group,{controlId:"surname",children:[Object(a.jsx)(De.a.Label,{children:"Surname *"}),Object(a.jsx)(De.a.Control,{type:"text",placeholder:"Enter surname",value:$.surname,onChange:H,onBlur:J}),ee.surname&&ae.surname?Object(a.jsx)("p",{children:ae.surname}):null]}),Object(a.jsxs)(De.a.Group,{controlId:"age",children:[Object(a.jsx)(De.a.Label,{children:"Age *"}),Object(a.jsx)(De.a.Control,{type:"number",placeholder:"Enter age",value:$.age,onChange:H,onBlur:J}),ee.age&&ae.age?Object(a.jsx)("p",{children:ae.age}):null]}),Object(a.jsx)(Me.a,{type:"submit",variant:"primary",disabled:!te,children:"EDIT INFO"})]})]}),Object(a.jsxs)("div",{className:"profile-password",children:[Object(a.jsx)("h5",{className:"h5-password",children:"Password"}),Object(a.jsx)(Fe.a,{initialValues:{password:"",confirmPassword:""},validationSchema:Ae.b({password:Ae.c().min(4,"* Password must be least than 3 characters").max(100,"* Password must be shorter than 100 characters").required("* Password must be required"),confirmPassword:Ae.c().test("passwords-match","Passwords must match",(function(e){return this.parent.password===e}))}),onSubmit:function(e,t){var n;B((n={password:e.password},function(){var e=Object(ce.a)(re.a.mark((function e(t,a){var r,c,s;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Oe(a),e.prev=1,t({type:"PROFILE_PASSWORD_REQUEST"}),e.next=5,ie.a.put("/api/user/edit-password",n,r);case 5:c=e.sent,s=c.data,t({type:"PROFILE_PASSWORD_SUCCESS",payload:s}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t({type:y});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}())),t.setSubmitting(!0),t.resetForm()},children:function(e){return Object(a.jsxs)(De.a,{onSubmit:e.handleSubmit,children:[Object(a.jsxs)(De.a.Group,{controlId:"password",children:[Object(a.jsx)(De.a.Label,{children:"Password *"}),Object(a.jsx)(De.a.Control,{type:"password",placeholder:"Enter password",value:e.values.password,onChange:e.handleChange,onBlur:e.handleBlur,name:"password"}),e.touched.password&&e.errors.password?Object(a.jsx)("p",{children:e.errors.password}):null]}),Object(a.jsxs)(De.a.Group,{controlId:"confirmPassword",children:[Object(a.jsx)(De.a.Label,{children:"Confirm Password *"}),Object(a.jsx)(De.a.Control,{type:"password",placeholder:"Confirm password",value:e.values.confirmPassword,onChange:e.handleChange,onBlur:e.handleBlur,name:"confirmPassword"}),e.touched.confirmPassword&&e.errors.confirmPassword?Object(a.jsx)("p",{children:e.errors.confirmPassword}):null]}),Object(a.jsx)(Me.a,{type:"submit",variant:"primary",disabled:!e.isValid,children:"EDIT PASSWORD"})]})}})]}),Object(a.jsxs)("div",{className:"profile-status",children:[Object(a.jsx)("h5",{className:"h5-status",children:"Status"}),Object(a.jsx)(De.a.Check,{type:"switch",id:"custom-switch",label:(Y=v,Y?"You can create any post":"You do not have a permission for create any post"),disabled:!0,isValid:v,defaultChecked:v}),Object(a.jsx)(De.a.Check,{type:"switch",id:"custom-switch",label:(Q=_,Q?"You can create any comment":"You do not have a permission for post any comment"),disabled:!0,isValid:_,defaultChecked:_}),Object(a.jsx)(De.a.Check,{type:"switch",id:"custom-switch",label:function(e){return e?"You have been reported":"You have not been reported"}(N),disabled:!0,isValid:N,defaultChecked:N}),Object(a.jsx)(Me.a,{variant:"danger",onClick:function(){F(!0),G({position:2,header:"Warning Account",body:"Do you want delete your account?",footer:"Account"})},children:"Delete your account"}),Object(a.jsx)(Ye,{showModal:R,setShowModal:F,infoModal:M,executeInMenuItem:function(){B(function(){var e=Object(ce.a)(re.a.mark((function e(t,n){var a,r,c;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Oe(n),e.prev=1,t({type:"PROFILE_DELETE_REQUEST"}),e.next=5,ie.a.delete("/api/user/delete-profile",a);case 5:r=e.sent,c=r.data,t({type:"PROFILE_DELETE_SUCCESS",payload:c}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t({type:"PROFILE_DELETE_FAIL"});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}()),B(xe()),F(!R),t.push(U)}})]})]})})]})}),Ke=n(317),He=(n(291),function(e){var t=e.body,n=e.isYourComment,c=e.doReport,s=e.doEdit,o=e.doRemove,i=Object(r.useState)(!1),l=Object(ne.a)(i,2),u=l[0],d=l[1],j=Object(r.useState)(!1),p=Object(ne.a)(j,2),b=p[0],m=p[1],h=Object(r.useState)({header:"",body:"",footer:""}),O=Object(ne.a)(h,2),f=O[0],x=O[1],v=Object(r.useCallback)((function(e){"menu-item"!==e.target.className&&d(!1)}),[]);Object(r.useEffect)((function(){return window.addEventListener("mousedown",v),function(){window.removeEventListener("mousedown",v)}}),[v,n]);var g="menu ".concat(u?"openMenu":"closeMenu"),y=function(e,n){switch(e.preventDefault(),m(!0),n){case 0:x({position:0,header:"Warning Report",body:"Do you want report this comment?",footer:"Report"});break;case 1:x({position:1,header:"Warning Edit",body:t.comment,footer:"Edit"});break;case 2:x({position:2,header:"Warning Delete",body:"Do you want delete this comment?",footer:"Delete"})}};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("span",{className:"menu-zone",onClick:function(){return d(!u)},children:[Object(a.jsx)("i",{className:"fas fa-ellipsis-h"}),Object(a.jsxs)("ul",{className:g,children:[!n&&Object(a.jsx)("li",{className:"menu-item",onClick:function(e){return y(e,0)},children:"Report"},0),n&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("li",{className:"menu-item",onClick:function(e){return y(e,1)},children:"Edit"},1),Object(a.jsx)("li",{className:"menu-item",onClick:function(e){return y(e,2)},children:"Delete"},2)]})]})]}),Object(a.jsx)(Ye,{showModal:b,setShowModal:m,infoModal:f,executeInMenuItem:function(e,n){switch(e){case 0:c(t._id,t.user);break;case 1:s(t._id,n),f.body=n;break;case 2:o(t._id)}m(!b)}})]})}),Je=(n(292),function(e){var t=e.comment,n=Object(r.useState)(!1),c=Object(ne.a)(n,2),s=c[0],i=c[1],l=Object(o.b)(),u=Object(o.c)((function(e){return e.userLogin})).userInfo.user;Object(r.useEffect)((function(){i(t.user===j(u.tokenUser))}),[t.user,u,s]);var d,j=function(e){return e.split("").reverse().join("")};return Object(a.jsxs)("div",{className:"comment",children:[Object(a.jsxs)("div",{className:"comment_avatar",children:[Object(a.jsx)(ue.a,{src:t.userAvatar,roundedCircle:!0,className:"img_comment"}),t.name.length>8?Object(a.jsxs)("h6",{children:[t.name.substr(0,6),"..."]}):Object(a.jsx)("h6",{children:t.name})]}),Object(a.jsxs)("div",{className:"comment_body",children:[Object(a.jsxs)("div",{className:"comment_body_publicate",children:[(d=t.name,d[0].toUpperCase()+d.substr(1))," posted a comment at:"," ",t.createdAt.substr(0,10),Object(a.jsx)(He,{body:t,isYourComment:s,doReport:function(e,t){var n;l((n={commentId:e,_id:t},function(){var e=Object(ce.a)(re.a.mark((function e(t,a){var r,c,s;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ye(a),e.prev=1,t({type:"REPORT_COMMENT_REQUEST"}),e.next=5,ie.a.post("/api/post/report-comment",n,r);case 5:c=e.sent,s=c.data,t({type:"REPORT_COMMENT_SUCCESS",payload:s}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t({type:"REPORT_COMMENT_FAIL"});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}()))},doEdit:function(e,t){var n,a;l((n=e,a={comment:t},function(){var e=Object(ce.a)(re.a.mark((function e(t,r){var c;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=ye(r),e.prev=1,t({type:"EDIT_COMMENT_REQUEST"}),e.next=5,ie.a.put("/api/post/edit-comment/"+n,a,c);case 5:e.sent.data,t({type:R}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t({type:"EDIT_COMMENT_FAIL"});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}()))},doRemove:function(e){l(function(e){return function(){var t=Object(ce.a)(re.a.mark((function t(n,a){var r,c,s,o,i,l;return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=ye(a),c=a(),s=c.postOne.post,t.prev=2,n({type:"DELETE_POST_REQUEST"}),t.next=6,ie.a.delete("/api/post/comment/delete/"+e,r);case 6:o=t.sent,i=o.data,n({type:"DELETE_POST_SUCCESS",payload:i}),l=s.comments.filter((function(t){return t.comment._id!==e})),n({type:R,payload:Object(be.a)(Object(be.a)({},s),{},{comments:l})}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),n({type:"DELETE_POST_FAIL"});case 16:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(e,n){return t.apply(this,arguments)}}()}(e))}})]}),Object(a.jsx)("div",{className:"comment_body_comment",children:t.comment}),Object(a.jsx)("div",{className:"comment_body_footer",children:Object(a.jsx)(Ce,{postOrComment:t,param:"comment",doLike:function(e){var t;l((t={_id:e._id},function(){var e=Object(ce.a)(re.a.mark((function e(n,a){var r,c,s;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ye(a),e.prev=1,n({type:"ADD_LIKE_COMMENT_REQUEST"}),e.next=5,ie.a.post("/api/post/like-comment",t,r);case 5:c=e.sent,s=c.data,n({type:"ADD_LIKE_COMMENT_SUCCESS",payload:s}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n({type:"ADD_LIKE_COMMENT_FAIL"});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}()))}})})]})]})}),Ze=(n(293),function(e){var t=e.match,n=Object(r.useState)({photos:[],comments:[]}),c=Object(ne.a)(n,2),s=c[0],i=c[1],l=Object(r.useState)(""),u=Object(ne.a)(l,2),d=u[0],j=u[1],p=Object(r.useState)(!1),b=Object(ne.a)(p,2),m=b[0],h=b[1],O=Object(r.useRef)(null),f=Object(o.b)(),x=Object(o.c)((function(e){return e.postOne})),v=x.loading,g=x.post,y=[{postTitle:"Title",postValue:s.title},{postTitle:"Bitkin",postValue:s.bitkin},{postTitle:"Petrov",postValue:s.petrov},{postTitle:"Grading",postValue:s.certificate},{postTitle:"Description",postValue:s.description}];Object(r.useEffect)((function(){return O.current.focus(),g&&0!==Object.keys(g).length?i(g):f(Se(t.params.id)),function(){g&&f({type:A})}}),[f,g,t]);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(X.Link,{to:"/",className:"btn btn-light my-3",ref:O,children:"Go back"}),Object(a.jsx)(Pe,{loading:v,children:Object(a.jsxs)("div",{className:"post__detals",children:[Object(a.jsxs)("div",{className:"post__detals_header",children:[Object(a.jsx)("div",{className:"post__detals_header_media",children:s.photos.length>0?Object(a.jsx)(Ke.a,{children:s.photos.map((function(e,t){return Object(a.jsx)(Ke.a.Item,{children:Object(a.jsx)(pe,{photo:e.photo})},t)}))}):Object(a.jsx)("i",{className:"fas fa-image no-image"})}),Object(a.jsx)("div",{className:"post__detals_header_description",children:Object(a.jsxs)("ul",{children:[y.map((function(e,t){return Object(a.jsxs)("li",{children:[Object(a.jsxs)("h6",{children:[e.postTitle,": "]}),Object(a.jsx)("span",{className:"text-span",children:e.postValue})]},t)})),Object(a.jsxs)("li",{children:[Object(a.jsx)("h6",{className:"show-video",onClick:function(){return h(!m)},children:"Show video"}),m&&Object(a.jsx)("span",{className:"text-span video-frame",children:Object(a.jsx)("iframe",{title:s.title,width:"500",height:"282",src:s.link_video+"?modestbranding=1&rel=0",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]})]})})]}),Object(a.jsxs)("div",{className:"post__detals_footer",children:[Object(a.jsxs)(De.a,{onSubmit:function(e){var n;e.preventDefault(),f((n={post:t.params.id,comment:d},function(){var e=Object(ce.a)(re.a.mark((function e(t,a){var r,c,s,o,i,l;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ye(a),c=a(),s=c.postOne.post,e.prev=2,t({type:"ADD_COMMENT_REQUEST"}),e.next=6,ie.a.post("/api/post/add-comment",n,r);case 6:o=e.sent,i=o.data,t({type:"ADD_COMMENT_SUCCESS",payload:i}),l=s.comments.unshift({comment:i.comment}),t({type:R,payload:Object(be.a)(Object(be.a)({},s),{},{newComment:l})}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),t({type:"ADD_COMMENT_FAIL"});case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,n){return e.apply(this,arguments)}}())),j("")},children:[Object(a.jsx)(De.a.Group,{controlId:"comment",children:Object(a.jsx)(De.a.Control,{type:"text",placeholder:"Put your comment...",value:d,onChange:function(e){return j(e.target.value)}})}),Object(a.jsx)(De.a.Group,{children:Object(a.jsx)(Me.a,{type:"submit",variant:"primary",className:"add_comment",children:"Comment"})})]}),s.comments.map((function(e,t){return Object(a.jsx)(Je,{comment:e.comment},t)}))]})]})})]})}),$e=function(e){var t=e().userLogin.userInfo;return Xe(t)},Xe=function(e){var t;return t=null!==e?e.token:e,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}},et=n(47),tt=n(19),nt=n(312),at=(n(294),function(e){var t=e.id,n=Object(r.useState)(0),c=Object(ne.a)(n,2),s=c[0],i=c[1],l=Object(r.useRef)(null),u=Object(r.useRef)(),d=Object(r.useRef)(),j=Object(r.useRef)(),p=Object(r.useRef)(),b=Object(r.useRef)(),m=Object(r.useState)([]),h=Object(ne.a)(m,2),O=h[0],f=h[1],x=Object(r.useState)([]),v=Object(ne.a)(x,2),g=v[0],y=v[1],E=Object(r.useState)([]),S=Object(ne.a)(E,2),C=S[0],_=S[1],k=Object(r.useState)(""),w=Object(ne.a)(k,2),I=w[0],N=w[1],T=Object(o.c)((function(e){return e.userLogin})).userInfo;Object(r.useEffect)((function(){var e=O.reduce((function(e,t){return e.find((function(e){return e.name===t.name}))?e:e.concat([t])}),[]);y(Object(tt.a)(e))}),[O]);var L=function(e){for(var t=function(t){R(e[t])?f((function(n){return[].concat(Object(tt.a)(n),[e[t]])})):(e[t].invalid=!0,f((function(n){return[].concat(Object(tt.a)(n),[e[t]])})),N("File type not permitted"),_((function(n){return[].concat(Object(tt.a)(n),[e[t]])})))},n=0;n<e.length;n++)t(n)},P=function(e){var t=g.findIndex((function(t){return t.name===e})),n=O.findIndex((function(t){return t.name===e})),a=C.findIndex((function(t){return t.name===e}));g.splice(t,1),O.splice(n,1),y(Object(tt.a)(g)),f(Object(tt.a)(O)),-1!==a&&(C.splice(a,1),_(Object(tt.a)(C)))},R=function(e){return-1!==["image/jpeg","image/jpg","image/png","image/gif","image/x-icon"].indexOf(e.type)},F=function(e){if(0===e)return"0 Bytes";var t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB"][t]},A=function(){var e=Object(ce.a)(re.a.mark((function e(){var n,a,r,c;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.current.style.display="block",p.current.innerHTML="File(s) Uploading...",n=new FormData,a=Object(et.a)(g);try{for(a.s();!(r=a.n()).done;)c=r.value,n.append("fileInput",c,c.name)}catch(s){a.e(s)}finally{a.f()}n.append("key",""),n.append("postId",t),ie.a.post("/api/img/post",n,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(T.token)},onUploadProgress:function(e){var t=Math.floor(e.loaded/e.total*100);t<100&&i(t)},cancelToken:new oe.CancelToken((function(e){return l.current=e}))}).then((function(){i(100),p.current.innerHTML="File(s) Uploaded",g.length=0,y(Object(tt.a)(g)),f(Object(tt.a)(g)),_(Object(tt.a)(g)),setTimeout((function(){i(0),b.current.style.display="none"}),2e3)})).catch((function(e){p.current.innerHTML='<span class="error">Error Uploading File(s)</span>'}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"container-zone",children:[0===C.length&&g.length?Object(a.jsx)("button",{className:"file-upload-btn",onClick:function(){return A()},children:"Upload Files"}):"",C.length?Object(a.jsx)("p",{children:"Please remove all unsupported files."}):"",Object(a.jsxs)("div",{className:"drop-container",onDragOver:function(e){e.preventDefault()},onDragEnter:function(e){e.preventDefault()},onDragLeave:function(e){e.preventDefault()},onDrop:function(e){e.preventDefault();var t=e.dataTransfer.files;t.length&&L(t)},onClick:function(){u.current.click()},children:[Object(a.jsxs)("div",{className:"drop-message",children:[Object(a.jsx)("div",{className:"upload-icon"}),"Drag & Drop files here or click to select file(s)"]}),Object(a.jsx)("input",{type:"file",className:"file-input",multiple:!0,onChange:function(){u.current.files.length&&L(u.current.files)},ref:u})]}),Object(a.jsx)("div",{className:"file-display-container",children:g.map((function(e,t){return Object(a.jsxs)("div",{className:"file-status-bar",children:[Object(a.jsx)("div",{className:"file-type-logo"}),Object(a.jsx)("div",{className:"file-type-text",children:(n=e.name,n.substring(n.lastIndexOf(".")+1,n.length)||n)}),Object(a.jsx)("span",{onClick:e.invalid?function(){return P(e.name)}:function(){return function(e){var t=new FileReader;j.current.style.display="block",t.readAsDataURL(e),t.onload=function(e){d.current.style.backgroundImage="url(".concat(e.target.result,")")}}(e)},className:"file-name ".concat(e.invalid?"file-error":""),children:e.name}),Object(a.jsxs)("span",{className:"file-size",children:["(",F(e.size),")"]}),Object(a.jsx)("i",{className:"fas fa-trash file-remove",onClick:function(){return P(e.name)}}),e.invalid&&Object(a.jsxs)("span",{className:"file-error-message",children:["(",I,")"]})]},t);var n}))})]}),Object(a.jsxs)("div",{className:"display-image",ref:j,children:[Object(a.jsx)("div",{className:"overlay"}),Object(a.jsx)("div",{className:"modal-image",ref:d,children:Object(a.jsx)("span",{className:"close-dropzone",onClick:function(){return j.current.style.display="none",void(d.current.style.backgroundImage="none")},children:"X"})})]}),Object(a.jsxs)("div",{className:"upload-modal",ref:b,children:[Object(a.jsx)("div",{className:"overlay"}),Object(a.jsxs)("div",{className:"progress-container",children:[Object(a.jsx)("div",{className:"close-dropzone",onClick:function(){return l.current&&l.current("You cancelled uploading "),void(b.current.style.display="none")},children:"X"}),Object(a.jsx)("span",{ref:p}),Object(a.jsx)(nt.a,{now:s,label:"".concat(s,"%"),variant:"info",striped:!0})]})]})]})}),rt=(n(295),function(e){var t=e.history,n=e.match.params.id,c=Object(r.useState)(null),s=Object(ne.a)(c,2),i=s[0],l=s[1],u=Object(r.useState)(""),d=Object(ne.a)(u,2),j=d[0],p=d[1],b=Object(r.useState)(""),m=Object(ne.a)(b,2),h=m[0],O=m[1],f=Object(r.useState)(""),x=Object(ne.a)(f,2),v=x[0],g=x[1],y=Object(r.useState)(""),E=Object(ne.a)(y,2),S=E[0],C=E[1],_=Object(r.useState)(""),k=Object(ne.a)(_,2),w=k[0],I=k[1],N=Object(r.useState)(""),T=Object(ne.a)(N,2),L=T[0],P=T[1],F=Object(r.useState)([]),D=Object(ne.a)(F,2),M=D[0],G=D[1],U=Object(r.useState)(!1),z=Object(ne.a)(U,2),Q=z[0],Y=z[1],W=Object(r.useState)({header:"",body:"",footer:""}),K=Object(ne.a)(W,2),H=K[0],J=K[1],Z=Object(r.useRef)(null),$=Object(o.b)(),ee=Object(o.c)((function(e){return e.postOne})),te=ee.loading,ae=ee.post,se=Object(o.c)((function(e){return e.editPost})).loading;Object(r.useEffect)((function(){return Z.current.focus(),ae?(p(ae.title),O(ae.certificate),g(ae.description),C(ae.bitkin),I(ae.petrov),P(ae.link_video),G(ae.photos)):$(Se(n)),function(){ae&&$({type:A})}}),[$,t,n,ae]);return Object(a.jsxs)("div",{className:"edit__post",children:[Object(a.jsx)(X.Link,{to:"/",ref:Z,className:"btn btn-light my-3",children:"Go back"}),Object(a.jsxs)(Ge,{loading:te||se,children:[Object(a.jsx)("h1",{children:"Edit Post"}),Object(a.jsxs)(De.a,{onSubmit:function(e){var t,a;e.preventDefault(),$((t=n,a={title:j,certificate:h,description:v,bitkin:S,petrov:w,link_video:L},function(){var e=Object(ce.a)(re.a.mark((function e(n,r){var c,s,o,i,l,u,d,j,p,b,m;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=ye(r),s=r(),o=s.postOne.post,e.prev=2,n({type:B}),e.next=6,ie.a.put("/api/post/edit-post/"+t,a,c);case 6:i=e.sent,l=i.data,n({type:q,payload:l.message}),o.title,o.certificate,o.description,o.bitkin,o.petrov,o.link_video,u=a.title,d=a.certificate,j=a.description,p=a.bitkin,b=a.petrov,m=a.link_video,n({type:R,payload:Object(be.a)(Object(be.a)({},o),{},{title:u,certificate:d,description:j,bitkin:p,petrov:b,link_video:m})}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(2),n({type:V});case 22:case"end":return e.stop()}}),e,null,[[2,19]])})));return function(t,n){return e.apply(this,arguments)}}()))},children:[Object(a.jsxs)(De.a.Group,{controlId:"title",children:[Object(a.jsx)(De.a.Label,{children:"Title *"}),Object(a.jsx)(De.a.Control,{type:"text",placeholder:"Enter title",value:j,onChange:function(e){return p(e.target.value)}})]}),Object(a.jsxs)(De.a.Group,{controlId:"certificate",children:[Object(a.jsx)(De.a.Label,{children:"Certificate *"}),Object(a.jsx)(De.a.Control,{type:"text",placeholder:"Enter certificate",value:h,onChange:function(e){return O(e.target.value)}})]}),Object(a.jsxs)(De.a.Group,{controlId:"description",children:[Object(a.jsx)(De.a.Label,{children:"Description *"}),Object(a.jsx)(De.a.Control,{type:"text",placeholder:"Enter description",value:v,onChange:function(e){return g(e.target.value)}})]}),Object(a.jsxs)(De.a.Group,{controlId:"bitkin",children:[Object(a.jsx)(De.a.Label,{children:"Bitkin *"}),Object(a.jsx)(De.a.Control,{type:"text",placeholder:"Enter bitkin",value:S,onChange:function(e){return C(e.target.value)}})]}),Object(a.jsxs)(De.a.Group,{controlId:"petrov",children:[Object(a.jsx)(De.a.Label,{children:"Petrov *"}),Object(a.jsx)(De.a.Control,{type:"text",placeholder:"Enter petrov",value:w,onChange:function(e){return I(e.target.value)}})]}),Object(a.jsxs)(De.a.Group,{controlId:"link_video",children:[Object(a.jsx)(De.a.Label,{children:"Link video"}),Object(a.jsx)(De.a.Control,{type:"text",placeholder:"Enter link video",value:L,onChange:function(e){return P(e.target.value)}})]}),Object(a.jsx)(Me.a,{className:"btn__edit_post",type:"submit",variant:"primary",children:"EDIT POST"})]}),Object(a.jsx)(at,{id:n}),M.length>0&&Object(a.jsx)("div",{className:"photos",children:M.map((function(e,t){return Object(a.jsxs)("div",{className:"photos-edit",children:[Object(a.jsx)(pe,{photo:e.photo,countNumberPhotos:M.length,postTitle:"Photo coin"}),Object(a.jsx)("i",{className:"fas fa-trash-alt",onClick:function(){return t=e,Y(!0),J({position:2,header:"Warning Image",body:"Do you want delete this image?",footer:"Delete Image"}),void l(t.photo._id);var t}})]},t)}))}),Object(a.jsx)(Ye,{showModal:Q,setShowModal:Y,infoModal:H,executeInMenuItem:function(){var e;$((e={idPhoto:i},function(){var t=Object(ce.a)(re.a.mark((function t(n,a){var r,c,s,o,i,l,u;return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=$e(a),c=e.idPhoto,s=a(),o=s.postOne.post,t.prev=3,n({type:"DELETE_IMAGE_REQUEST"}),t.next=7,ie.a.put("/api/img/delete-img",e,r);case 7:i=t.sent,l=i.data,n({type:"DELETE_IMAGE_SUCCESS",payload:l.message}),u=o.photos.filter((function(e){return e.photo._id!==c})),n({type:"POST_ONE_SUCCESS",payload:Object(be.a)(Object(be.a)({},o),{},{photos:u})}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(3),n({type:"DELETE_IMAGE_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 17:case"end":return t.stop()}}),t,null,[[3,14]])})));return function(e,n){return t.apply(this,arguments)}}())),Y(!Q)}})]})]})}),ct=(n(296),function(e){var t=e.children,n=e.loading,r=e.title,c=Object(o.c)((function(e){return e.successMsg})).message,s=Object(o.c)((function(e){return e.errorMsg})).error;return Object(a.jsx)(ke.a,{className:"justify-content-md-center form-container",children:Object(a.jsx)(te.a,{xs:12,md:6,children:n?Object(a.jsx)(we,{}):s?Object(a.jsx)(Le,{variant:"danger",children:s}):Object(a.jsxs)(a.Fragment,{children:[c&&Object(a.jsx)(Le,{variant:"success",children:c}),Object(a.jsx)("h1",{children:r}),t]})})})}),st=(n(297),function(){var e=Object(r.useState)(""),t=Object(ne.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)("Rouble 1"),i=Object(ne.a)(s,2),l=i[0],u=i[1],d=Object(r.useState)("NGC"),j=Object(ne.a)(d,2),p=j[0],b=j[1],m=Object(r.useState)("sdsdsd"),h=Object(ne.a)(m,2),O=h[0],f=h[1],x=Object(r.useState)("R"),v=Object(ne.a)(x,2),g=v[0],y=v[1],E=Object(r.useState)("3R"),S=Object(ne.a)(E,2),C=S[0],_=S[1],k=Object(r.useState)("link"),w=Object(ne.a)(k,2),I=w[0],N=w[1],T=Object(o.b)(),L=Object(o.c)((function(e){return e.addPost})),P=L.loading,R=L.newpost;Object(r.useEffect)((function(){R&&Object.keys(R).indexOf("post")>0&&c(R.post._id)}),[T,R]);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(X.Link,{to:"/",className:"btn btn-light my-3",children:"Go back"}),Object(a.jsxs)(ct,{loading:P,title:"Add Post",children:[Object(a.jsxs)(De.a,{onSubmit:function(e){var t;e.preventDefault(),T((t={title:l,certificate:p,description:O,bitkin:g,petrov:C,link_video:I},function(){var e=Object(ce.a)(re.a.mark((function e(n,a){var r,c,s;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ye(a),e.prev=1,n({type:D}),e.next=5,ie.a.post("/api/post/add-post",t,r);case 5:c=e.sent,s=c.data,n({type:M,payload:s}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n({type:G});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}()))},children:[Object(a.jsxs)(De.a.Group,{controlId:"title",children:[Object(a.jsx)(De.a.Label,{children:"Title *"}),Object(a.jsx)(De.a.Control,{type:"text",placeholder:"Enter title",value:l,onChange:function(e){return u(e.target.value)}})]}),Object(a.jsxs)(De.a.Group,{controlId:"certificate",children:[Object(a.jsx)(De.a.Label,{children:"Certificate *"}),Object(a.jsx)(De.a.Control,{type:"text",placeholder:"Enter certificate",value:p,onChange:function(e){return b(e.target.value)}})]}),Object(a.jsxs)(De.a.Group,{controlId:"description",children:[Object(a.jsx)(De.a.Label,{children:"Description *"}),Object(a.jsx)(De.a.Control,{type:"text",placeholder:"Enter description",value:O,onChange:function(e){return f(e.target.value)}})]}),Object(a.jsxs)(De.a.Group,{controlId:"bitkin",children:[Object(a.jsx)(De.a.Label,{children:"Bitkin *"}),Object(a.jsx)(De.a.Control,{type:"text",placeholder:"Enter bitkin",value:g,onChange:function(e){return y(e.target.value)}})]}),Object(a.jsxs)(De.a.Group,{controlId:"petrov",children:[Object(a.jsx)(De.a.Label,{children:"Petrov *"}),Object(a.jsx)(De.a.Control,{type:"text",placeholder:"Enter petrov",value:C,onChange:function(e){return _(e.target.value)}})]}),Object(a.jsxs)(De.a.Group,{controlId:"link_video",children:[Object(a.jsx)(De.a.Label,{children:"Link video"}),Object(a.jsx)(De.a.Control,{type:"text",placeholder:"Enter link video",value:I,onChange:function(e){return N(e.target.value)}})]}),Object(a.jsx)(Me.a,{type:"submit",className:"btn__create_post",variant:"primary",children:"ADD POST"})]}),n&&Object(a.jsx)(at,{id:n})]})]})}),ot=n(52),it=function(e){e.children;var t=Object(ot.a)(e,["children"]),n=Object(o.c)((function(e){return e.userLogin})).userInfo,c=t.title,s=Object(r.useState)(""),i=Object(ne.a)(s,2),l=i[0],u=i[1];return Object(r.useEffect)((function(){u(c),document.title=l}),[l,c]),n&&n.token&&n.user&&n.expiresIn?Object(a.jsx)(ee.d,Object(be.a)({},t)):Object(a.jsx)(ee.c,{to:"/login"})},lt=function(e){e.children;var t=Object(ot.a)(e,["children"]),n=Object(o.c)((function(e){return e.userLogin})).userInfo,c=t.title,s=Object(r.useState)(""),i=Object(ne.a)(s,2),l=i[0],u=i[1];return Object(r.useEffect)((function(){u(c),document.title=l}),[l,c]),n&&n.token&&n.user.roles&&n.expiresIn?Object(a.jsx)(ee.d,Object(be.a)({},t)):Object(a.jsx)(ee.c,{to:"/login"})},ut=function(e){e.children;var t=Object(ot.a)(e,["children"]),n=Object(o.c)((function(e){return e.userLogin})).userInfo,c=t.title,s=Object(r.useState)(""),i=Object(ne.a)(s,2),l=i[0],u=i[1];return Object(r.useEffect)((function(){u(c),document.title=l}),[l,c]),null===n?Object(a.jsx)(ee.d,Object(be.a)({},t)):Object(a.jsx)(ee.c,{to:"/"})},dt=function(e){e.children;var t=Object(ot.a)(e,["children"]),n=t.title,c=Object(r.useState)(""),s=Object(ne.a)(c,2),o=s[0],i=s[1];return Object(r.useEffect)((function(){i(n),document.title=o}),[o,n]),Object(a.jsx)(ee.d,Object(be.a)({},t))},jt=n(55),pt=n(318),bt=n(313),mt=n(319),ht=n(314),Ot=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.userLogin})).userInfo,n=function(){var t=Object(ce.a)(re.a.mark((function t(){return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(xe());case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.jsx)("header",{children:Object(a.jsx)(pt.a,{bg:"dark",variant:"dark",expand:"lg",collapseOnSelect:!0,children:Object(a.jsxs)(bt.a,{children:[Object(a.jsx)(jt.LinkContainer,{to:"/",children:Object(a.jsx)(pt.a.Brand,{href:"/",children:Object(a.jsx)(ue.a,{src:"logo.jpg"})})}),Object(a.jsx)(pt.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(a.jsx)(pt.a.Collapse,{id:"basic-navbar-nav",children:Object(a.jsxs)(mt.a,{className:"ml-auto",children:[t&&t.token&&t.user?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ue.a,{src:t.user.avatar,roundedCircle:!0,className:"img_tsar"}),Object(a.jsxs)(ht.a,{id:"username",title:t.user.name,children:[Object(a.jsx)(jt.LinkContainer,{to:"/profile",children:Object(a.jsx)(ht.a.Item,{children:"Profile"})}),Object(a.jsx)(jt.LinkContainer,{to:"/favorites",children:Object(a.jsx)(ht.a.Item,{children:"Favorites"})}),Object(a.jsx)(ht.a.Item,{onClick:n,children:"Logout"})]})]}):Object(a.jsx)(jt.LinkContainer,{to:"/login",children:Object(a.jsxs)(mt.a.Link,{children:[Object(a.jsx)("i",{className:"fas fa-user"})," Login"]})}),t&&t.token&&t.user.roles&&Object(a.jsxs)(ht.a,{id:"adminmenu",title:"Admin",children:[Object(a.jsx)(jt.LinkContainer,{to:"/admin/create/post",children:Object(a.jsx)(ht.a.Item,{children:"Create post"})}),Object(a.jsx)(jt.LinkContainer,{to:"/admin/productlist",children:Object(a.jsx)(ht.a.Item,{children:"Products"})}),Object(a.jsx)(jt.LinkContainer,{to:"/admin/orderlist",children:Object(a.jsx)(ht.a.Item,{children:"Orders"})})]})]})})]})})})},ft=(n(299),function(){var e=Object(o.b)(),t=Object(Fe.b)({initialValues:{emailFooter:"",nameFooter:"",messageFooter:""},validationSchema:Ae.b({emailFooter:Ae.c().email("* Email is invalid").min(11,"* Email must be least than 11 characters").max(50,"* Email must be shorter than 50 characters").required("* Email is required"),nameFooter:Ae.c().min(3,"* Name must be least than 3 characters").max(30,"* Name must be shorter than 30 characters").required("* Name must be required").matches(/^([a-zA-Z]{3,30})+$/,"* This field cannot contain blankspaces or specific characters"),messageFooter:Ae.c().min(3,"* Message must be least than 3 characters").max(30,"* Message must be shorter than 30 characters").required("* Message must be required")}),onSubmit:function(t,n){var a=n.resetForm,r=t.emailFooter,c=t.nameFooter,s=t.messageFooter;e(ge({email:r,name:c,message:s})),a({body:""})}}),n=t.handleSubmit,r=t.handleChange,c=t.handleBlur,s=t.values,i=t.touched,l=t.errors;return Object(a.jsxs)("footer",{children:[Object(a.jsx)("div",{className:"shares",children:Object(a.jsx)(bt.a,{children:Object(a.jsxs)(ke.a,{className:"contact",children:[Object(a.jsxs)("div",{className:"contact-mobile",children:[Object(a.jsx)("i",{className:"fab fa-viber"}),Object(a.jsx)("i",{className:"fab fa-telegram"}),Object(a.jsx)("i",{className:"fab fa-whatsapp"}),Object(a.jsx)("a",{href:"https://www.instagram.com/monnaierusse/",children:Object(a.jsx)("i",{className:"fab fa-instagram"})}),Object(a.jsx)("a",{href:"https://www.youtube.com",children:Object(a.jsx)("i",{className:"fab fa-youtube"})}),Object(a.jsxs)("span",{children:["+336 50 00 46 41",Object(a.jsx)("br",{}),"+38067 884 1 884"]})]}),Object(a.jsx)("div",{className:"contact-email",children:Object(a.jsxs)(De.a,{onSubmit:n,className:"contact-form",children:[Object(a.jsxs)(De.a.Group,{controlId:"emailFooter",children:[Object(a.jsx)(De.a.Control,{type:"email",placeholder:"Enter your email",value:s.emailFooter,onChange:r,onBlur:c}),i.emailFooter&&l.emailFooter?Object(a.jsx)("p",{children:l.emailFooter}):null]}),Object(a.jsxs)(De.a.Group,{controlId:"nameFooter",children:[Object(a.jsx)(De.a.Control,{type:"text",placeholder:"Enter your name",value:s.nameFooter,onChange:r,onBlur:c}),i.nameFooter&&l.nameFooter?Object(a.jsx)("p",{children:l.nameFooter}):null]}),Object(a.jsxs)(De.a.Group,{controlId:"messageFooter",children:[Object(a.jsx)(De.a.Control,{as:"textarea",rows:3,placeholder:"Enter your message",value:s.messageFooter,onChange:r,onBlur:c}),i.messageFooter&&l.messageFooter?Object(a.jsx)("p",{children:l.messageFooter}):null]}),Object(a.jsx)(Me.a,{type:"submit",variant:"primary",children:"SEND A MESSAGE"})]})})]})})}),Object(a.jsx)("div",{className:"copyright",children:"Copyright &copy Russian coins"})]})}),xt=function(e){var t=e.showModal,n=e.setShowModal,c=e.sendEmail,s=e.title;Object(r.useEffect)((function(){}),[t]);var o=Object(Fe.b)({initialValues:{emailContact:"",nameContact:"",messageContact:""},validationSchema:Ae.b({emailContact:Ae.c().email("* Email is invalid").min(11,"* Email must be least than 11 characters").max(50,"* Email must be shorter than 50 characters").required("* Email is required"),nameContact:Ae.c().min(3,"* Name must be least than 3 characters").max(30,"* Name must be shorter than 30 characters").required("* Name must be required").matches(/^([a-zA-Z]{3,30})+$/,"* This field cannot contain blankspaces or specific characters"),messageContact:Ae.c().min(3,"* Message must be least than 3 characters").max(30,"* Message must be shorter than 30 characters").required("* Message must be required")}),onSubmit:function(e,t){var n=t.resetForm;c(e),n({body:""}),b()}}),i=o.handleSubmit,l=o.handleChange,u=o.handleBlur,d=o.values,j=o.touched,p=o.errors,b=function(){n(!1)};return Object(a.jsxs)(Qe.a,{show:t,onHide:b,keyboard:!1,children:[Object(a.jsx)(Qe.a.Header,{closeButton:!0,children:Object(a.jsxs)(Qe.a.Title,{children:["Send email about ",s]})}),Object(a.jsx)(Qe.a.Body,{children:Object(a.jsxs)(De.a,{onSubmit:i,className:"contact-form",children:[Object(a.jsxs)(De.a.Group,{controlId:"emailContact",children:[Object(a.jsx)(De.a.Control,{type:"email",placeholder:"Enter your email",value:d.emailContact,onChange:l,onBlur:u}),j.emailContact&&p.emailContact?Object(a.jsx)("p",{children:p.emailContact}):null]}),Object(a.jsxs)(De.a.Group,{controlId:"nameContact",children:[Object(a.jsx)(De.a.Control,{type:"text",placeholder:"Enter your name",value:d.nameContact,onChange:l,onBlur:u}),j.nameContact&&p.nameContact?Object(a.jsx)("p",{children:p.nameContact}):null]}),Object(a.jsxs)(De.a.Group,{controlId:"messageContact",children:[Object(a.jsx)(De.a.Control,{as:"textarea",rows:3,placeholder:"Enter your message",value:d.messageContact,onChange:l,onBlur:u}),j.messageContact&&p.messageContact?Object(a.jsx)("p",{children:p.messageContact}):null]}),Object(a.jsx)(De.a.Label,{children:"In this form you send the message to the administrator to request information on the selected coin!"}),Object(a.jsxs)(Qe.a.Footer,{children:[Object(a.jsx)(Me.a,{variant:"secondary",onClick:b,children:"Close"}),Object(a.jsx)(Me.a,{type:"submit",variant:"primary",children:"SEND"})]})]})})]})},vt=(n(300),function(e){var t=e.favorite,n=e.doUnFavorite,c=Object(r.useState)(!1),s=Object(ne.a)(c,2),i=s[0],l=s[1],u={route:"post",user:t.folderPhoto,name:t.photo},d=Object(o.b)();return Object(a.jsxs)("div",{className:"favorite",children:[Object(a.jsxs)("div",{className:"favorite-icons",children:[Object(a.jsx)("i",{className:"fas fa-envelope fa-2x",onClick:function(){return l(!0)}}),Object(a.jsx)("i",{className:"fas fa-star fa-2x",onClick:function(){return n(t)}})]}),Object(a.jsx)(pe,{photo:u,postTitle:t.title,styleClass:"image"}),Object(a.jsx)("div",{className:"favorite-title",children:t.title}),Object(a.jsx)(xt,{showModal:i,setShowModal:l,sendEmail:function(e){var t=e.emailContact,n=e.nameContact,a=e.messageContact;d(ge({email:t,name:n,message:a}))},title:t.title})]})}),gt=(n(301),function(){var e=Object(r.useState)([]),t=Object(ne.a)(e,2),n=t[0],c=t[1],s=Object(o.b)(),i=Object(o.c)((function(e){return e.profileInfo})),l=i.loading,u=i.user;Object(r.useEffect)((function(){return u&&0!==Object.keys(u).length?c(u.favorites):s(ve()),function(){u&&s({type:g})}}),[s,u]);var d=function(e){var t;s((t={favoriteId:e._id,postId:e.postId},function(){var e=Object(ce.a)(re.a.mark((function e(n,a){var r,c,s,o,i,l,u;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Oe(a),c=a(),s=c.profileInfo.user,e.prev=2,n({type:"DELETE_FAVORITE_REQUEST"}),e.next=6,ie.a.put("/api/user/delete-favorite",t,r);case 6:o=e.sent,i=o.data,l=o.status,n({type:"DELETE_FAVORITE_SUCCESS",payload:i}),u=s.favorites.filter((function(e){return e._id!==t.favoriteId})),200===l&&n({type:x,payload:Object(be.a)(Object(be.a)({},s),{},{favorites:u})}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),n({type:"DELETE_FAVORITE_FAIL"});case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,n){return e.apply(this,arguments)}}()))};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(X.Link,{to:"/",className:"btn btn-light my-3",children:"Go back"}),Object(a.jsx)(Pe,{loading:l,title:"Your favorites",children:Object(a.jsx)("div",{className:"main-favorite-page",children:n.map((function(e,t){return Object(a.jsx)(vt,{favorite:e,doUnFavorite:d},t)}))})})]})}),yt=function(){return Object(a.jsxs)(X.BrowserRouter,{children:[Object(a.jsx)(Ot,{}),Object(a.jsx)("main",{className:"container",children:Object(a.jsxs)(ee.g,{children:[Object(a.jsx)(dt,{exact:!0,path:"/",component:Re,title:"Coins"}),Object(a.jsx)(ut,{exact:!0,path:"/register",component:qe,title:"Register"}),Object(a.jsx)(ut,{exact:!0,path:"/login",component:ze,title:"Login"}),Object(a.jsx)(ut,{exact:!0,path:"/register/complete",component:Ve,title:"Complete"}),Object(a.jsx)(it,{exact:!0,path:"/post/:id",component:Ze,title:"Coin"}),Object(a.jsx)(it,{exact:!0,path:"/profile",component:We,title:"Profile"}),Object(a.jsx)(it,{exact:!0,path:"/favorites",component:gt,title:"Favorites"}),Object(a.jsx)(lt,{exact:!0,path:"/post/edit/:id",component:rt,title:"Edit"}),Object(a.jsx)(lt,{exact:!0,path:"/admin/create/post",component:st,title:"Create"}),Object(a.jsx)(ee.d,{path:"*",children:Object(a.jsx)("div",{className:"error-message",children:Object(a.jsx)("img",{src:"/error.svg",alt:"Error img"})})})]})}),Object(a.jsx)(ft,{})]})},Et=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,320)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};(function(e){ie.a.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),ie.a.interceptors.response.use((function(t){return"bytes"!==t.headers["accept-ranges"]&&(e.dispatch({type:I}),e.dispatch({type:k}),e.dispatch({type:w,payload:t.data.message})),Promise.resolve(t)}),(function(t){var n=t.response,a=n.status;n.data,n.config;if(e.dispatch({type:_,payload:t.response&&t.response.data.message?t.response.data.message:t.message}),401===a){[{type:"USER_LOGOUT"},{type:"POST_ONE_RESET"},{type:"ADD_LIKE_RESET"},{type:"CREATE_POST_RESET"},{type:"EDIT_POST_RESET"},{type:"PROFILE_INFO_RESET"}].map((function(t){return e.dispatch({type:t.type})}))}return Promise.reject(t)}))})($),s.a.render(Object(a.jsx)(o.a,{store:$,children:Object(a.jsx)(yt,{})}),document.getElementById("root")),Et()}},[[302,1,2]]]);
//# sourceMappingURL=main.1a06a553.chunk.js.map